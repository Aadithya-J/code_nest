# Root example env for docker compose
# Copy to .env and fill required values.
# SECURITY NOTE: Change all default passwords and secrets before production use!

# ------------------------------
# Auth Service (gRPC :AUTH_SERVICE_PORT)
# ------------------------------
AUTH_SERVICE_PORT=50051                     # optional; default 50051
# If using local compose Postgres, these defaults work:
AUTH_POSTGRES_USER=auth_user                # optional; default auth_user
AUTH_POSTGRES_PASSWORD=change_me_in_production  # SECURITY: Change this!
AUTH_POSTGRES_DB=auth_db                    # optional; default auth_db
AUTH_DB_SCHEMA=auth                         # optional; default auth
# Or provide a full DSN (required if not using the defaults above):
DATABASE_URL=postgres://auth_user:change_me_in_production@postgres:5432/auth_db?sslmode=disable
JWT_SECRET=change_me_in_production_use_32_char_random_string  # SECURITY: Change this!

# Google OAuth (required)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URL=http://localhost:3000/auth/google/callback

# GitHub App (required)
GITHUB_APP_ID=123456
GITHUB_APP_SLUG=code-nest
# Provide one of the below:
GITHUB_APP_PRIVATE_KEY=                     # optional inline PEM
GITHUB_PRIVATE_KEY_PATH=/app/github_app.pem # optional; default /app/github_app.pem

# ------------------------------
# Gateway (HTTP :PORT)
# ------------------------------
PORT=3000                                   # optional; default 3000
AUTH_RPC_URL=auth-service:50051             # optional; default auth-service:50051
PROJECT_RPC_URL=project-service:50052       # optional; default project-service:50052
ALLOWED_ORIGINS=http://localhost:5173       # optional; default http://localhost:5173
REDIS_ADDR=redis:6379                       # optional; default redis:6379

# ------------------------------
# Project Service (gRPC :PROJECT_GRPC_PORT)
# ------------------------------
PROJECT_GRPC_PORT=50052                    # optional; default 50052
PROJECT_DB_URL=postgres://project_user:change_me_in_production@postgres:5432/project_db?sslmode=disable
REDIS_ADDR=redis:6379                       # optional; default redis:6379
AUTH_RPC_URL=auth-service:50051             # optional; default auth-service:50051
GATEWAY_URL=http://gateway:3000              # optional; default http://gateway:3000
ATLAS_BASE_URL=http://host.docker.internal:8080  # optional; default as shown

